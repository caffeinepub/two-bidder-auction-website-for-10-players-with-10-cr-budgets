{
  "kind": "build_request",
  "title": "Convert bidder budget and bidding amounts to ₹1000 rupees",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Change the auction's initial bidder budget from the current large CR-based amount to exactly 1000 rupees per bidder for newly created auctions.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "The amount which is given to bidders can you convert it into 1000 rupees"
        ]
      },
      "acceptanceCriteria": [
        "In backend/main.mo, startNewAuctionWithSecretKey initializes each bidder.remainingAmount to 1000 (Nat) instead of 10_000_000_000_000.",
        "Starting a new auction results in both bidders having remainingAmount == 1000 when getAuctionState is called."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update all frontend currency formatting, labels, and bid parsing so amounts are treated and displayed as rupees (₹) rather than crores (CR), including budget, spent, highest bid, bid input, and results tables.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "The amount which is given to bidders can you convert it into 1000 rupees"
        ]
      },
      "acceptanceCriteria": [
        "frontend/src/utils/format.ts formats bigint amounts as rupees with a ₹ prefix (no CR conversion, no 1_000_000_000_000 scaling).",
        "frontend/src/components/auction/AuctionScreen.tsx no longer multiplies the entered bid amount by 1_000_000_000_000; the entered numeric value is interpreted as rupees and converted to bigint rupees.",
        "AuctionScreen UI text reflects rupees (e.g., 'Bid Amount (₹)' instead of 'Bid Amount (CR)'), and bidder remaining/spent displays show ₹ values.",
        "frontend/src/components/auction/SetupScreen.tsx bidder section description is updated from '(10 CR each)' to '(₹1000 each)'.",
        "frontend/src/components/auction/ResultsScreen.tsx spent calculation is updated to subtract from a single shared initial budget constant of 1000n (not 10_000_000_000_000n), and all displayed prices are formatted as ₹.",
        "frontend/src/components/auction/guards.ts validation messages that currently mention 'CR' are updated to mention rupees and use the same ₹ formatting approach as the rest of the app.",
        "Audience view (frontend/src/components/auction/AudienceScreen.tsx) shows highest bid and budgets formatted as ₹ via the updated formatter."
      ]
    }
  ],
  "constraints": [
    "Respect the single-actor backend architecture; keep all Motoko logic in backend/main.mo.",
    "Do not edit files under frontend/src/components/ui or any paths listed as immutable (e.g., frontend/src/hooks/useActor.ts, frontend/src/hooks/useInternetIdentity.ts(x), frontend/src/main.tsx)."
  ],
  "nonGoals": [
    "Do not expose or reveal the auction secret key in any UI or API.",
    "Do not add third-party payment, currency conversion APIs, or external data sources.",
    "Do not retroactively migrate/convert existing in-progress auction state amounts unless explicitly requested."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}