{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Switch auction UI from CR-scaled amounts to ₹ rupees (₹1000 budget)",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Update frontend formatting, labels, and bid parsing to treat all amounts as rupees (₹) with a ₹1000 initial budget baseline.",
      "acceptanceCriteria": [
        "frontend/src/utils/format.ts formats bigint amounts as rupees with a ₹ prefix (no CR conversion, no 1_000_000_000_000 scaling).",
        "frontend/src/components/auction/AuctionScreen.tsx no longer multiplies the entered bid amount by 1_000_000_000_000; the entered numeric value is interpreted as rupees and converted to bigint rupees.",
        "AuctionScreen UI text reflects rupees (e.g., 'Bid Amount (₹)' instead of 'Bid Amount (CR)'), and bidder remaining/spent displays show ₹ values.",
        "frontend/src/components/auction/SetupScreen.tsx bidder section description is updated from '(10 CR each)' to '(₹1000 each)'.",
        "frontend/src/components/auction/ResultsScreen.tsx spent calculation is updated to subtract from a single shared initial budget constant of 1000n (not 10_000_000_000_000n), and all displayed prices are formatted as ₹.",
        "frontend/src/components/auction/guards.ts validation messages that currently mention 'CR' are updated to mention rupees and use the same ₹ formatting approach as the rest of the app.",
        "Audience view (frontend/src/components/auction/AudienceScreen.tsx) shows highest bid and budgets formatted as ₹ via the updated formatter."
      ],
      "file_operations": [
        {
          "path": "frontend/src/utils/format.ts",
          "operation": "modify",
          "description": "Update formatAmount to display bigint values as rupees with a ₹ prefix and no CR scaling; introduce and export a shared INITIAL_BUDGET_RUPEES = 1000n constant for consistent 'spent' calculations across screens."
        },
        {
          "path": "frontend/src/components/auction/AuctionScreen.tsx",
          "operation": "modify",
          "description": "Interpret bid input as rupees (convert entered numeric value directly to bigint rupees without 1_000_000_000_000 multiplication), update bid amount label text to 'Bid Amount (₹)', and compute/display bidder 'Spent' using INITIAL_BUDGET_RUPEES - remainingAmount with rupee formatting."
        },
        {
          "path": "frontend/src/components/auction/SetupScreen.tsx",
          "operation": "modify",
          "description": "Update the bidders section description text from '(10 CR each)' to '(₹1000 each)' to match the rupee-based budget."
        },
        {
          "path": "frontend/src/components/auction/ResultsScreen.tsx",
          "operation": "modify",
          "description": "Update totalSpent computation to use INITIAL_BUDGET_RUPEES - remainingAmount instead of the prior CR-scaled constant, ensuring all displayed spending/remaining/price values continue to use the shared ₹ formatter."
        },
        {
          "path": "frontend/src/components/auction/guards.ts",
          "operation": "modify",
          "description": "Replace CR-specific formatting and 'CR' wording in bid validation messages with rupee-aware wording and formatting by reusing the shared formatAmount utility (remove the local formatBigIntToCR helper)."
        },
        {
          "path": "frontend/src/components/auction/AudienceScreen.tsx",
          "operation": "modify",
          "description": "Confirm all displayed monetary values (highest bid, bidder budgets, sold prices) are presented via the updated rupee formatter; adjust any residual CR text if present."
        }
      ]
    }
  ]
}